## 10指针
C语言最高级特性之一：指针。本章包含：

1. 定义简单指针
2. 在常见C表达式中使用指针
3. 是限制向结构体、数组和函数的指针
4. 使用指针创建链表
5. 向指针应用const关键字
6. 将指针作为参数传递给函数

### 10.1指针和间接性
**间接性**是获得某事物的方式并不是直接的。

### 10.2定义指针变量
***是间接运算符，是指向什么类型的指针，&是地址运算符，&x（变量）就是指向x变量的指针。**

声明指针后，可以将指针（&变量）赋给指针，用变量（*指针）赋值给变量。

地址运算符降级，间接运算符升级。

**程序10.1 演示指针**

```c++

```

**程序10.2 更多的指针基础知识**

```c++

```

定义变量之后的情况下只能用

```c++
char *char_pointer;
char_pointer = &c;
```
第二句不能再有*char_pointer。


*char_pointer的改变和对c的直接改变效果是一眼的。

### 10.3在表达式中使用指针

*和&作为运算符优先级高于C中所有二元运算符。

**程序10.3 在表达式中使用指针**

```c++

```

### 10.4使用指针和结构体
使用指针指向结构体，但是**调用结构体成员的时候必须有括号**。

```c++
(*dateptr).day = 12;

dateptr->day = 12;
```
此处可以理解后一种写法为何是更加普遍存在的。

**程序10.4 使用指向结构体的指针**

```c++

```

#### 10.4.1包含指针的结构体
更改指针也是更改变量本身的值。

**程序10.5 使用包含指针的结构体**

```c++

```


#### 10.4.2链表
将以上两个概念组合在一起，可以形成链表、双链表和树。

```c++
struct entry
{
    int velue;
    struct entry *next;
}
```
第二个成员指向一个同类型的结构。

**程序10.6 使用链表**

```c++

```

此处要注意，当指针作为成员的时候，调用可以直接指向一个元素的地址。

将结构体变量的指针赋值给另一指针，则可以删除一个元素，主要是n1不再指向n2。

插入的时候完全可以顺序指针指向各元素指针，之前的指针指向新元素的地址。

开发链表函数之前：

1. 在遍历之前还需要制定一个指向列表的指针。
2. 在要考虑将链表最后设定空指针。


**空指针**是用常数值0指定的指针。

```c++
n3.next = (struct entry *) 0;
```

**程序10.7 遍历链表**

```c++

```

**动态内存分配机制**是让系统为每个新列表留出内存空间，并在程序执行时将它链接在列表中。

### 10.5关键字const和指针

指针有两点需要考虑：

1. 指针能否被修改
2. 指针指向的值能否被修改

```c++
char * const charptr = &c;
charptr = &d; //无效
```
可以看到此时指针只能指向&c。

```c++
char c = 'X';
const char * charptr = &c;
*charptr = 'Y';//无效
```
可以看到此时指针指向的值不能被修改


### 10.6指针和函数
指针本身作为参数只能传值，如果指针引用数据元素是可以被修改的。

**程序10.8 使用指针和函数**

```c++

```

**程序10.9 用指针交换值**

```c++

```

使用指针可以方便的返回两个整数值，其直接作用效果如同传地址，并且可以用传地址的方式视为传指针。

**程序10.10 从函数中返回指针**


```c++

```

此处可以观察到利用指针循链寻找得到具体值的函数和过程。


链表虽然增删方便，查找却困难，可以用树满足所有优点，此外也可以用哈希表。











```c++

```

```c++

```


```c++

```


```c++

```

```c++

```


```c++

```


```c++

```

```c++

```


```c++

```


```c++

```

```c++

```


